@if (product()) {
<div class="product-detail pt-6">
  <!-- Image gallery -->
  <div class="mx-auto mt-6 max-w-2xl sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-3 lg:gap-x-8 lg:px-8">
    <div class="aspect-h-1 aspect-w-1 overflow-hidden sm:rounded-lg lg:block">
      <img
        [ngSrc]="product().thumbnail.uri ?? ''"
        [alt]="product().name"
        onerror="this.src='images/placeholder-image.jpg'"
        class="h-full w-full object-cover object-center group-hover:opacity-75"
        fill="" />
    </div>
  </div>

  <!-- Product info -->
  <div
    class="mx-auto max-w-2xl px-4 pb-16 pt-10 sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-3 lg:grid-rows-[auto,auto,1fr] lg:gap-x-8 lg:px-8 lg:pb-24 lg:pt-16">
    <div class="lg:col-span-2 lg:border-r lg:border-gray-200 lg:pr-8">
      <h1 class="text-2xl font-bold tracking-tight text-gray-900 sm:text-3xl">{{ product().name }}</h1>
    </div>

    <!-- Options -->
    <div class="mt-4 lg:row-span-3 lg:mt-0">
      <h2 class="sr-only">Product information</h2>
      <p class="text-3xl tracking-tight text-gray-900">
        {{ product().price | currency }}
      </p>

      <button
        (click)="addToCart(product().id)"
        [disabled]="!addButtonEnabled()"
        class="btn-add mt-10 flex w-full items-center justify-center rounded-md border border-transparent px-8 py-3 text-base font-medium"
        [ngClass]="{
          'bg-gray-100 text-gray-800 pointer-events-none': !addButtonEnabled(),
          'bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2':
            addButtonEnabled()
        }">
        Add to cart
      </button>
    </div>

    <div class="py-10 lg:col-span-2 lg:col-start-1 lg:border-r lg:border-gray-200 lg:pb-16 lg:pr-8 lg:pt-6">
      <div class="product-description text-sm text-gray-600">{{ product().description }}</div>
    </div>
  </div>
</div>
}
